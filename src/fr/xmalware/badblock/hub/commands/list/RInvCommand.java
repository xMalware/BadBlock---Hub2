package fr.xmalware.badblock.hub.commands.list;

import org.bukkit.Bukkit;
import org.bukkit.command.CommandSender;

import fr.badblock.gameapi.command.AbstractCommand;
import fr.badblock.gameapi.players.BadblockPlayer.GamePermission;
import fr.badblock.gameapi.utils.i18n.TranslatableString;
import fr.xmalware.badblock.hub.BadBlockHub;
import fr.xmalware.badblock.hub.config.ConfigLoader;
import fr.xmalware.badblock.hub.inventories.InventoriesLoader;

public class RInvCommand extends AbstractCommand {
	
	public RInvCommand() {
		super("rinv", new TranslatableString("commands.rinv.usage"), GamePermission.ADMIN, GamePermission.ADMIN, GamePermission.ADMIN);
		this.allowConsole(true);
	}

	@Override
	public boolean executeCommand(CommandSender sender, String[] args) {
		BadBlockHub instance = BadBlockHub.getInstance();
		// Reload i18n
		Bukkit.getServer().dispatchCommand(sender, "/i18n reload");
		// Reload inventories
		InventoriesLoader.reloadInventories(instance);
		sendTranslatedMessage(sender, "commands.rinv.reloaded");
		// Reload locations
		ConfigLoader.load(instance);
		return true;
	}

}
